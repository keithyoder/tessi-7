<div class="card">
  <% params = defined?(params) ? params : {} %>
  <%= render '/shared/table_header', {object: @fibra_caixas, titulo: "Caixas de Atendimento"} %>
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-striped table-sm">
        <thead>
          <tr>
            <th>Caixa</th>
            <th>Rua</th>
            <th>Rede</th>
            <th>Capacidade</th>
            <th>Ocupação</th>
            <th>Ativas</th>
          </tr>
        </thead>
        <tbody>
          <% @fibra_caixas.each do |caixa| %>
            <tr>
              <td><%= link_to caixa.nome, caixa %></td>
              <td><%= link_to caixa.logradouro.present? ? caixa.logradouro.nome : '', caixa.logradouro %></td>
              <td><%= link_to caixa.fibra_rede.nome, caixa.fibra_rede %></td>
              <td><%= caixa.capacidade %>
              <td><%= caixa.conexoes.count %>
              <td><%= caixa.conexoes.conectada.count %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
